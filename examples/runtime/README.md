# Introduction

There are 2 APIs C++ API and python API. so there are 2 kinds of test case.
after build, 
* C++ example APP will located in /build/example/runtime.
* python extension lib will located in /opt/rocm/lib/NNCompiler.cpython-37m-x86_64-linux-gnu.so

---

# How to inference

## Inference using C++ API

after build, test APP executable file are generated in /build/example/runtime

`cd /build/examples/runtime`

```
<Usage> ./simpleMain <command> <arguments>

        <command>           <argument>          <description>
        --input(-i)                             The path or input file
        --model(-m)                             Possible model type: RNNT/HWR/GNMT
        --profiling(-p)                         Run with profiling(defalt :false)
```


## Inference using python API

The NNRuntime Python extension is installed in `/opt/rocm/lib/`, named `NNCompiler.cpython-3xm-x86_64-linux-gnu.so`, so set /opt/rocm/lib/ in `PYTHONPATH` first, then run python test script.

- Run Python API in NNCompiler Project

```
export PYTHONPATH=$PYTHONPATH:/opt/rocm/lib/

cd NNCompiler/example/runtime
# here provides one sample input for RNNT model: example/runtime/resource/rnnt/input

python3 simpleMain.py

<Usage> ./build/example/runtime/simpleMain <command> <arguments>

        <command>           <argument>          <description>
        --input_file                             The path or input file
        --model_kind                             Possible model type: RNNT/HWR/GNMT

```

---

# Example
1. ./simpleMain -i path_to_model/rnnt.torchscript -m RNNT
2. python3 simpleMain.py --input_file path_to_model/rnnt.torchscript --model_kind RNNT

# Run test case

In order to check the correctness of NNRuntime, here add some simple test case, each test case is implemented with PyTorch.

- ir_net: implement come simple test Net
- graph_files: contains Graph file, each `Graph` files is generated by each test case in **ir_net**



